# fastlivo2

中文注释，方便个人学习

关于红外和可见光标定
1. 已知条件
内参：包括焦距、主点坐标、畸变系数等，描述了相机的内部几何特性。
畸变参数：用于校正图像的径向和切向畸变，确保图像的几何准确性。
红外和可见光图像：如果两种相机已经对齐（例如通过硬件或软件同步），则可以用于解算外参。
2. 解算外参的条件
要解算外参，需要以下条件之一：

已知的3D点：在世界坐标系中已知一些3D点的位置，并且这些点在红外和可见光图像中都有对应的2D投影点。
多视图几何：如果有多个视角的图像（例如通过移动相机或使用多个相机），可以通过多视图几何方法（如对极几何）解算外参。
标定板或场景特征：使用标定板（如棋盘格）或场景中的已知特征点，通过图像匹配和优化算法计算外参。
3. 解算外参的方法
(1) 基于3D-2D对应点的PnP算法
如果已知一些3D点及其在图像中的2D投影点，可以使用Perspective-n-Point (PnP) 算法解算外参。常用方法包括：

OpenCV 的 solvePnP 函数：输入3D点和对应的2D点，输出旋转矩阵和平移向量。
最小化重投影误差：通过优化算法（如Levenberg-Marquardt）最小化3D点投影到图像平面后的误差。
(2) 基于多视图几何的方法
如果有多个视角的图像，可以通过以下步骤解算外参：

特征点匹配：在红外和可见光图像中提取并匹配特征点（如SIFT、ORB）。
对极几何：计算基础矩阵（Fundamental Matrix）或本质矩阵（Essential Matrix），分解出旋转和平移。
三角测量：通过三角化方法恢复3D点，进一步优化外参。
(3) 基于标定板的方法
如果使用标定板（如棋盘格），可以通过以下步骤解算外参：

检测标定板角点：在红外和可见光图像中检测标定板的角点。
计算外参：利用已知的标定板3D点和检测到的2D点，通过PnP算法计算外参。
4. 红外和可见光的融合
如果红外和可见光相机是独立的（未对齐），需要先对齐它们的坐标系。通常可以通过以下方法实现：

联合标定：同时标定红外和可见光相机，计算它们之间的相对外参。
特征匹配：在红外和可见光图像中匹配特征点，计算它们之间的变换关系。
